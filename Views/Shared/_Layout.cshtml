
<!DOCTYPE html>
<html lang="en">
<head>
	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
			background-color: #f0f2f5;
		}

		.chat-button-container {
			position: fixed;
			bottom: 20px;
			right: 20px;
			z-index: 1000;
		}

		.chat-button {
			background-color: #00aaff;
			color: white;
			border: none;
			border-radius: 10px;
			padding: 10px 20px;
			cursor: pointer;
			display: flex;
			align-items: center;
			font-size: 16px;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
		}

			.chat-button img {
				width: 20px;
				margin-right: 5px;
			}

		.chat-container {
			width: 400px;
			height: 600px;
			position: fixed;
			bottom: 80px;
			right: 20px;
			border: 1px solid #ccc;
			border-radius: 10px;
			overflow: hidden;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
			background-color: #fff;
			display: none;
			z-index: 1000;
		}

		.chat-header {
			background-color: #00aaff;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 18px;
			position: relative;
		}

			.chat-header img {
				width: 30px;
				vertical-align: middle;
				margin-right: 10px;
			}

			.chat-header .buttons {
				position: absolute;
				right: 10px;
				top: 50%;
				transform: translateY(-50%);
			}

				.chat-header .buttons span {
					margin-left: 10px;
					cursor: pointer;
				}

		.chat-messages {
			height: 500px;
			overflow-y: auto;
			padding: 10px;
		}

		.message {
			max-width: 70%;
			margin: 10px 0;
			padding: 10px;
			border-radius: 5px;
		}

		.user-message {
			background-color: #e9ecef;
			margin-left: 30%;
			text-align: right;
		}

		.ai-message {
			background-color: #d1e7dd;
			margin-right: 30%;
		}

		.message img {
			width: 20px;
			vertical-align: middle;
			margin-right: 5px;
		}

		.chat-input {
			display: flex;
			padding: 10px;
			background-color: #f8f9fa;
		}

			.chat-input input {
				flex-grow: 1;
				padding: 5px;
				border: 1px solid #ccc;
				border-radius: 5px;
				margin-right: 10px;
			}

			.chat-input button {
				padding: 5px 10px;
				background-color: #00aaff;
				color: white;
				border: none;
				border-radius: 5px;
				cursor: pointer;
			}
	</style>


	<title>Colo Shop</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="Colo Shop Template">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="~/assets/styles/bootstrap4/bootstrap.min.css">
	<link href="~/assets/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="~/assets/plugins/OwlCarousel2-2.2.1/owl.carousel.css">
	<link rel="stylesheet" type="text/css" href="~/assets/plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
	<link rel="stylesheet" type="text/css" href="~/assets/plugins/OwlCarousel2-2.2.1/animate.css">
	<link rel="stylesheet" type="text/css" href="~/assets/plugins/jquery-ui-1.12.1.custom/jquery-ui.css">

	<link rel="stylesheet" type="text/css" href="~/assets/styles/responsive.css">
</head>
<body>
	<div class="super_container">

		<!-- Header -->

		<header class="header trans_300">

			<!-- Top Navigation -->

			<div class="top_nav">
				<div class="container">
					<div class="row">
						<div class="col-md-6">
							<div class="top_nav_left">free shipping on all u.s orders over $50</div>
						</div>
						<div class="col-md-6 text-right">
							<div class="top_nav_right">
								<ul class="top_nav_menu">

									<!-- Currency / Language / My Account -->

									<li class="currency">
										<a href="#">
											usd
											<i class="fa fa-angle-down"></i>
										</a>
										<ul class="currency_selection">
											<li><a href="#">cad</a></li>
											<li><a href="#">aud</a></li>
											<li><a href="#">eur</a></li>
											<li><a href="#">gbp</a></li>
										</ul>
									</li>
									<li class="language">
										<a href="#">
											English
											<i class="fa fa-angle-down"></i>
										</a>
										<ul class="language_selection">
											<li><a href="#">French</a></li>
											<li><a href="#">Italian</a></li>
											<li><a href="#">German</a></li>
											<li><a href="#">Spanish</a></li>
										</ul>
									</li>
									<li class="account">
										<a href="#">
											My Account
											<i class="fa fa-angle-down"></i>
										</a>
										<ul class="account_selection">
											<li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>Sign In</a></li>
											<li><a href="#"><i class="fa fa-user-plus" aria-hidden="true"></i>Register</a></li>
										</ul>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Main Navigation -->

			<div class="main_nav_container">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 text-right">
							<div class="logo_container">
								<a href="/">Let<span>shop</span></a>
							</div>
							<nav class="navbar">
								@await Component.InvokeAsync("MenuTop")
								<ul class="navbar_user">
									<li><a href="#"></a></li>
									<li><a href="#"><i class="fa fa-user" aria-hidden="true"></i></a></li>
									<li class="checkout">
										<a href="/gio-hang">
											<i class="fa fa-shopping-cart" aria-hidden="true"></i>
											<span id="checkout_items" class="checkout_items">0</span>
										</a>
									</li>
								</ul>
								<div class="hamburger_container">
									<i class="fa fa-bars" aria-hidden="true"></i>
								</div>
							</nav>
						</div>
					</div>
				</div>
			</div>

		</header>

		<div class="fs_menu_overlay"></div>
		<div class="hamburger_menu">
			<div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
			<div class="hamburger_menu_content text-right">
				<ul class="menu_top_nav">
					<li class="menu_item has-children">
						<a href="#">
							usd
							<i class="fa fa-angle-down"></i>
						</a>
						<ul class="menu_selection">
							<li><a href="#">cad</a></li>
							<li><a href="#">aud</a></li>
							<li><a href="#">eur</a></li>
							<li><a href="#">gbp</a></li>
						</ul>
					</li>
					<li class="menu_item has-children">
						<a href="#">
							English
							<i class="fa fa-angle-down"></i>
						</a>
						<ul class="menu_selection">
							<li><a href="#">French</a></li>
							<li><a href="#">Italian</a></li>
							<li><a href="#">German</a></li>
							<li><a href="#">Spanish</a></li>
						</ul>
					</li>
					<li class="menu_item has-children">
						<a href="#">
							My Account
							<i class="fa fa-angle-down"></i>
						</a>
						<ul class="menu_selection">
							<li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>Sign In</a></li>
							<li><a href="#"><i class="fa fa-user-plus" aria-hidden="true"></i>Register</a></li>
						</ul>
					</li>
					<li class="menu_item"><a href="#">home</a></li>
					<li class="menu_item"><a href="#">shop</a></li>
					<li class="menu_item"><a href="#">promotion</a></li>
					<li class="menu_item"><a href="#">pages</a></li>
					<li class="menu_item"><a href="#">blog</a></li>
					<li class="menu_item"><a href="#">contact</a></li>
				</ul>
			</div>
		</div>

		@RenderBody()


		<!-- Benefit -->

	

		<!-- Newsletter -->

		<div class="newsletter">
			<div class="container">
				<div class="row">
					<div class="col-lg-6">
						<div class="newsletter_text d-flex flex-column justify-content-center align-items-lg-start align-items-md-center text-center">
							<h4>Newsletter</h4>
							<p>Subscribe to our newsletter and get 20% off your first purchase</p>
						</div>
					</div>
					<div class="col-lg-6">
						<form action="post">
							<div class="newsletter_form d-flex flex-md-row flex-column flex-xs-column align-items-center justify-content-lg-end justify-content-center">
								<input id="newsletter_email" type="email" placeholder="Your email" required="required" data-error="Valid email is required.">
								<button id="newsletter_submit" type="submit" class="newsletter_submit_btn trans_300" value="Submit">subscribe</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->

		<footer class="footer">
			<div class="container">
				<div class="row">
					<div class="col-lg-6">
						<div class="footer_nav_container d-flex flex-sm-row flex-column align-items-center justify-content-lg-start justify-content-center text-center">
							<ul class="footer_nav">
								<li><a href="#">Blog</a></li>
								<li><a href="#">FAQs</a></li>
								<li><a href="contact.html">Contact us</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-6">
						<div class="footer_social d-flex flex-row align-items-center justify-content-lg-end justify-content-center">
							<ul>
								<li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
								<li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
								<li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
								<li><a href="#"><i class="fa fa-skype" aria-hidden="true"></i></a></li>
								<li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12">
						<div class="footer_nav_container">
							<div class="cr">©2018 All Rights Reserverd. Made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="#">Colorlib</a> &amp; distributed by <a href="https://themewagon.com">ThemeWagon</a></div>
						</div>
					</div>
				</div>
			</div>
		</footer>
		<div class="chat-button-container">
			<button class="chat-button" onclick="toggleChatbox()">
				<img src="https://static.vecteezy.com/system/resources/previews/036/167/101/large_2x/ai-generated-artificial-intelligence-software-development-solutions-filled-colorful-logo-user-centric-business-value-cute-baby-robot-simple-icon-design-element-ai-generative-icon-ai-art-vector.jpg">
				Trợ lý
			</button>
		</div>

		<div class="chat-container" id="chatbox">
			<div class="chat-messages" id="chatMessages">
				<div class="message ai-message">
					<img src="https://static.vecteezy.com/system/resources/previews/036/167/101/large_2x/ai-generated-artificial-intelligence-software-development-solutions-filled-colorful-logo-user-centric-business-value-cute-baby-robot-simple-icon-design-element-ai-generative-icon-ai-art-vector.jpg" alt="AI Icon">
					Mày muốn cái đéo gì?
				</div>
			
			</div>
			<div class="chat-input">
				<input type="text" id="chatInput" placeholder="Nhập nội dung chat">
				<button onclick="sendMessage()">Gửi</button>
			</div>
		</div>

		<script>
			function toggleChatbox() {
				const chatbox = document.getElementById('chatbox');
				chatbox.style.display = chatbox.style.display === 'block' ? 'none' : 'block';
			}

			function sendMessage() {
				const input = document.getElementById('chatInput');
				const message = input.value.trim();
				if (!message) return;

				// Add user message to chat
				const chatMessages = document.getElementById('chatMessages');
				const userMessageDiv = document.createElement('div');
				userMessageDiv.className = 'message user-message';
				userMessageDiv.textContent = message;
				chatMessages.appendChild(userMessageDiv);

				// Call FastAPI endpoint
				fetch('http://localhost:8000/query', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
					},
					body: JSON.stringify({
						query: message,
						response_mode: 'default',
						similarity_top_k: 2
					}),
				})
				.then(response => response.json())
				.then(data => {
					// Add AI response to chat
					const aiMessageDiv = document.createElement('div');
					aiMessageDiv.className = 'message ai-message';
					aiMessageDiv.innerHTML = `<img src="https://static.vecteezy.com/system/resources/previews/036/167/101/large_2x/ai-generated-artificial-intelligence-software-development-solutions-filled-colorful-logo-user-centric-business-value-cute-baby-robot-simple-icon-design-element-ai-generative-icon-ai-art-vector.jpg" alt="AI Icon"> ${data.response}`;
					chatMessages.appendChild(aiMessageDiv);
					chatMessages.scrollTop = chatMessages.scrollHeight; // Auto-scroll to latest message
				})
				.catch(error => {
					const errorMessageDiv = document.createElement('div');
					errorMessageDiv.className = 'message ai-message';
					errorMessageDiv.textContent = `Error: ${error.message}`;
					chatMessages.appendChild(errorMessageDiv);
					chatMessages.scrollTop = chatMessages.scrollHeight;
				});

				// Clear input
				input.value = '';
			}

			// Allow pressing Enter to send message
			document.getElementById('chatInput').addEventListener('keypress', function(e) {
				if (e.key === 'Enter') {
					sendMessage();
				}
			});
		</script>
	</div>
<script src="~/assets/js/jquery-3.2.1.min.js"></script>
<script src="~/assets/styles/bootstrap4/popper.js"></script>
<script src="~/assets/styles/bootstrap4/bootstrap.min.js"></script>
<script src="~/assets/plugins/Isotope/isotope.pkgd.min.js"></script>
<script src="~/assets/plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
<script src="~/assets/plugins/easing/easing.js"></script>
<script src="~/assets/plugins/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
<script src="~/assets/js/custom.js"></script>
<script src="~/assets/js/jsshopping.js"></script>
	@RenderSection("scripts", required: false)
</body>

</html>